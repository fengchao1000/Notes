(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["lot-web-boot-script15"],{"5f51":function(e,t,o){"use strict";(function(e){o("68a0");t["a"]={name:"CCT",data:function(){return{codeArea:"",selectedTableName:"",selectedCodeType:"",selectedField:[],tableNameAndFields:{},tableNames:[],tableFields:[]}},created:function(){var e=this;this.getTableNameAndFields((function(){e.selectedCodeType="Model",e.getModelCode()}))},mounted:function(){},methods:{eventSelectedTableName:function(e){this.selectedTableName=e,this.tableFields=this.tableNameAndFields[e],"Model"==this.selectedCodeType&&this.getModelCode(),"RegisterModel"==this.selectedCodeType&&this.getDbSetCode(),"Logic"==this.selectedCodeType&&this.getLogicCode(),"Controller"==this.selectedCodeType&&this.getControllersCode(),"Form"==this.selectedCodeType&&this.getFormCode()},eventSelectedField:function(e){var t="".concat(this.selectedTableName,"/").concat(e),o=this.selectedField.find((function(e){return e==t}));o||this.selectedField.push(t)},eventCloseSelectedField:function(e){var t=this.selectedField.indexOf(e);this.selectedField.splice(t,1)},eventSelectedCodeType:function(e){this.selectedCodeType=e,"Model"==this.selectedCodeType&&this.getModelCode(),"RegisterModel"==this.selectedCodeType&&this.getDbSetCode(),"Logic"==this.selectedCodeType&&this.getLogicCode(),"Controller"==this.selectedCodeType&&this.getControllersCode(),"Form"==this.selectedCodeType&&this.getFormCode()},getTableNameAndFields:function(t){var o=this;e.post("/Admin/CCT/GetTableNameAndFields").then((function(e){var l=e.data;for(var d in o.tableNameAndFields=l.data,o.tableNameAndFields)o.tableNames.push(d);o.eventSelectedTableName(o.tableNames[0]),t&&t()}))},getModelCode:function(){var t=this;e.post("/Admin/CCT/GetModelCode/".concat(this.selectedTableName)).then((function(e){var o=e.data;t.codeArea=o.data}))},getDbSetCode:function(){var t=this;e.post("/Admin/CCT/GetDbSetCode").then((function(e){var o=e.data;t.codeArea=o.data}))},getLogicCode:function(){var t=this;e.post("/Admin/CCT/GetLogicCode/".concat(this.selectedTableName)).then((function(e){var o=e.data;t.codeArea=o.data}))},getControllersCode:function(){var t=this;e.post("/Admin/CCT/GetControllersCode/".concat(this.selectedTableName)).then((function(e){var o=e.data;t.codeArea=o.data}))},getFormCode:function(){var t=this;e.post("/Admin/CCT/GetFormCode/".concat(this.selectedTableName),this.selectedField).then((function(e){var o=e.data;t.codeArea=o.data}))},download:function(){e.download("/Admin/CCT/Download",{TableName:this.selectedTableName,CodeType:this.selectedCodeType,Content:this.codeArea})},downloadAll:function(){e.download("/Admin/CCT/DownloadAll/".concat(this.selectedCodeType))}}}}).call(this,o("c8ba"))},"68a0":function(e,t,o){},b9c0:function(e,t,o){"use strict";o.r(t);var l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"cct-container"},[o("div",{staticClass:"left"},[o("ul",e._l(e.tableNames,(function(t,l){return o("li",{key:l,class:{active:e.selectedTableName==t},on:{click:function(o){return e.eventSelectedTableName(t)}}},[e._v(e._s(t))])})),0)]),o("div",{staticClass:"center"},[o("ul",{staticClass:"mb-10"},e._l(e.tableFields,(function(t,l){return o("li",{key:l,on:{click:function(o){return e.eventSelectedField(t.ColName)}}},[o("div",{staticClass:"col-1"},[e._v(e._s(t.ColName))]),o("div",{staticClass:"col-2"},[o("a-divider",{attrs:{type:"vertical"}}),e._v("\n          "+e._s(t.ColType)+"\n        ")],1),o("div",{staticClass:"col-3"},[o("a-divider",{attrs:{type:"vertical"}}),e._v("\n          "+e._s(t.ColRemark)+"\n          "),1==t.ColIsKey?o("a-tag",{staticClass:"ml-10",attrs:{color:"pink"}},[e._v("主键")]):e._e()],1)])})),0),e._l(e.selectedField,(function(t){return[o("a-tag",{key:t,staticClass:"mr-20 mb-20",attrs:{color:"purple",closable:""},on:{close:function(o){return e.eventCloseSelectedField(t)}}},[e._v(e._s(t))])]}))],2),o("div",{staticClass:"right"},[o("div",{staticClass:"top"},[o("ul",[o("li",{class:{active:"Model"==e.selectedCodeType},on:{click:function(t){return e.eventSelectedCodeType("Model")}}},[e._v("Model")]),o("li",{class:{active:"RegisterModel"==e.selectedCodeType},on:{click:function(t){return e.eventSelectedCodeType("RegisterModel")}}},[e._v("RegisterModel")]),o("li",{class:{active:"Logic"==e.selectedCodeType},on:{click:function(t){return e.eventSelectedCodeType("Logic")}}},[e._v("Logic")]),o("li",{class:{active:"Controller"==e.selectedCodeType},on:{click:function(t){return e.eventSelectedCodeType("Controller")}}},[e._v("Controller")]),o("li",{class:{active:"Form"==e.selectedCodeType},on:{click:function(t){return e.eventSelectedCodeType("Form")}}},[e._v("Form")])])]),o("div",{staticClass:"content"},[o("a-textarea",{attrs:{placeholder:"code",rows:4},model:{value:e.codeArea,callback:function(t){e.codeArea=t},expression:"codeArea"}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"RegisterModel"!=e.selectedCodeType,expression:"selectedCodeType!='RegisterModel'"}],staticClass:"bottom"},[o("ul",[o("li",{on:{click:e.download}},[e._v("下载当前")]),o("li",{on:{click:e.downloadAll}},[e._v("下载所有")])])])])])},d=[],s=o("5f51"),i=s["a"],a=o("2877"),c=Object(a["a"])(i,l,d,!1,null,null,null);t["default"]=c.exports}}]);